<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Freelancer - Start Bootstrap Theme</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />

    <!-- Font Awesome icons -->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>

    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />

    <!-- Core theme CSS (Bootstrap included) -->
    <link href="css/styles.css" rel="stylesheet" />

    <!-- Security Headers for browsers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https:; connect-src 'self' https:; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; font-src 'self'; object-src 'none'; frame-ancestors 'none';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta name="referrer" content="no-referrer">
</head>
<body id="page-top">
    <!-- NAVIGATION (Intact) -->
    <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="#page-top">Start Bootstrap</a>
            <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#portfolio">Portfolio</a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#about">About</a></li>
                    <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- MASTHEAD (Intact) -->
    <header class="masthead bg-primary text-white text-center">
        <div class="container d-flex align-items-center flex-column">
            <img class="masthead-avatar mb-5" src="assets/img/avataaars.svg" alt="Avatar" />
            <h1 class="masthead-heading text-uppercase mb-0">Start Bootstrap</h1>
            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <p class="masthead-subheading font-weight-light mb-0">Graphic Artist - Web Designer - Illustrator</p>
        </div>
    </header>

    <!-- PORTFOLIO SECTION (Intact) -->
    <section class="page-section portfolio" id="portfolio">
        <div class="container">
            <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Portfolio</h2>
            <div class="divider-custom">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>

            <div class="row justify-content-center">
                <!-- Portfolio Item 1 -->
                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto">
                        <a href=book1chapter1/index.html">
                            <img class="img-fluid" src="assets/img/portfolio/cabin.png" alt="book1chapter1">
                        </a>
                    </div>
                </div>
                <!--book-->
                                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto">
                        <a href="book/chapter3/index.html">
                            <img class="img-fluid" src="assets/img/portfolio/cabin.png" alt="book1/chapter3">
                        </a>
                    </div>
                </div>
                                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto">
                        <a href="book1chapter4/index.html">
                            <img class="img-fluid" src="assets/img/portfolio/cabin.png" alt="book1chapter4">
                        </a>
                    </div>
                </div>
                                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto">
                        <a href="book1chapter5/index.html">
                            <img class="img-fluid" src="assets/img/portfolio/cabin.png" alt="book1chapter5">
                        </a>
                    </div>
                </div>
                 </div>
                                <div class="col-md-6 col-lg-4 mb-5">
                    <div class="portfolio-item mx-auto">
                        <a href="book1chapter6/index.html">
                            <img class="img-fluid" src="assets/img/portfolio/cabin.png" alt="book1chapter6">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ABOUT SECTION (Intact) -->
    <section class="page-section bg-primary text-white mb-0" id="about">
        <div class="container">
            <h2 class="page-section-heading text-center text-uppercase text-white">About</h2>
            <div class="divider-custom divider-light">
                <div class="divider-custom-line"></div>
                <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                <div class="divider-custom-line"></div>
            </div>
            <div class="row">
                <div class="col-lg-4 ms-auto"><p class="lead">Freelancer is a free bootstrap theme created by Start Bootstrap.</p></div>
                <div class="col-lg-4 me-auto"><p class="lead">You can customize it as needed!</p></div>
            </div>
        </div>
    </section>

    <!-- FOOTER (Intact) -->
    <footer class="footer text-center">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-5 mb-lg-0">
                    <h4 class="text-uppercase mb-4">Contact Details</h4>
                    <p class="lead mb-0">
                        Email: jameswillense2005160120@gmail.com<br>
                        Phone: +27 66 406 2059<br>
                        Address: 1 Knoppiesdoring Street, Weltenvredenpark, Roodepoort
                    </p>
                </div>
                <div class="col-lg-4 mb-5 mb-lg-0">
                    <h4 class="text-uppercase mb-4">Around the Web</h4>
                    <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-linkedin-in"></i></a>
                    <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-dribbble"></i></a>
                </div>
                <div class="col-lg-4">
                    <h4 class="text-uppercase mb-4">About Freelancer</h4>
                    <p class="lead mb-0">Freelance is free to use, MIT licensed Bootstrap theme by <a href="http://startbootstrap.com">Start Bootstrap</a>.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- COPYRIGHT -->
    <div class="copyright py-4 text-center text-white">
        <div class="container"><small>Copyright &copy; Your Website 2023</small></div>
    </div>

    <!-- CORE TEMPLATE JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/scripts.js"></script>

    <!-- CLIENT-SIDE SECURITY SCRIPTS -->
    <script src="/security/tripwires/detect.js"></script>
    <script src="/security/tripwires/firewall.js"></script>
    <script src="/security/logs/sendLog.js"></script>
    <script>
    // -----------------------------
 MERCENARY-GRADE FIREWALL & SECURITY SERVER
// -----------------------------

const express = require("express");
const session = require("express-session");
const passport = require("passport");
const { json, urlencoded } = require("express");

const GoogleStrategy = require("passport-google-oauth20").Strategy;
const MicrosoftStrategy = require("passport-microsoft").Strategy;
const AppleStrategy = require("passport-apple");
const LinkedInStrategy = require("passport-linkedin-oauth2").Strategy;

const app = express();
app.use(json());
app.use(urlencoded({ extended: true }));

// -----------------------------
 SESSION & PASSPORT INITIALIZATION
// -----------------------------
app.use(session({
    secret: "supersecretkey",
    resave: false,
    saveUninitialized: false
}));
app.use(passport.initialize());
app.use(passport.session());

passport.serializeUser((user, done) => done(null, user));
passport.deserializeUser((obj, done) => done(null, obj));

// -----------------------------
 LOGGING & ALERT FUNCTION
// -----------------------------
function secLog(event, details) {
    console.log(JSON.stringify({
        ts: new Date().toISOString(),
        event,
        details
    }));
}

function alertAdmin(message) {
    secLog("ALERT", { message });
}

// -----------------------------
 IP REPUTATION BLOCK
// -----------------------------
const badIPs = new Set(["45.155.205.55", "92.63.197.12"]);

function reputationModule(req) {
    return badIPs.has(req.ip);
}

// -----------------------------
 RATE LIMITING
// -----------------------------
const rateStore = new Map();
function rateLimiter(req, res, next) {
    const ip = req.ip;
    const now = Date.now();

    if (!rateStore.has(ip)) {
        rateStore.set(ip, { count: 1, last: now });
        return next();
    }

    const session = rateStore.get(ip);

    if (now - session.last < 60000 && session.count > 80) {
        secLog("RATE_LIMIT_BLOCK", { ip });
        return res.status(429).send("Too many requests.");
    }

    if (now - session.last > 60000) {
        session.count = 1;
        session.last = now;
    } else {
        session.count++;
    }

    next();
}

// -----------------------------
 BEHAVIORAL ANOMALY DETECTION
// -----------------------------
function behaviorModule(req) {
    const body = JSON.stringify(req.body);
    const unusual = body.length > 50000 ||
                    (req.headers["user-agent"] || "").length < 10 ||
                    (req.path.match(/admin/i) && !req.headers.cookie);
    return unusual;
}

// -----------------------------
 CLIENT FIREWALL
// -----------------------------
const bannedAgents = [
    "curl", "wget", "scrapy", "python-requests",
    "scanner", "sqlmap", "nmap", "masscan"
];

function firewall(req, res, next) {
     IP Reputation
    if (reputationModule(req)) {
        secLog("BLOCKED_BAD_IP", { ip: req.ip });
        return res.status(403).send("Forbidden.");
    }

     User Agent Block
    const ua = (req.headers["user-agent"] || "").toLowerCase();
    if (bannedAgents.some(a => ua.includes(a))) {
        secLog("BLOCKED_USER_AGENT", { ip: req.ip, ua });
        return res.status(403).send("Access Denied.");
    }

     Behavior Scan
    if (behaviorModule(req)) {
        secLog("ANOMALY_DETECTED", { ip: req.ip });
        return res.status(403).send("Suspicious behavior.");
    }

    next();
}

// -----------------------------
 SECURE HEADERS
// -----------------------------
function secureHeaders(req, res, next) {
    res.setHeader("X-Frame-Options", "DENY");
    res.setHeader("X-XSS-Protection", "1; mode=block");
    res.setHeader("X-Content-Type-Options", "nosniff");
    next();
}

// -----------------------------
 APPLY SECURITY MIDDLEWARE
// -----------------------------
app.use(secureHeaders);
app.use(rateLimiter);
app.use(firewall);

// -----------------------------
 STATIC FILES (PORTFOLIO)
app.use(express.static("public")); // your index.html + assets in /public
// -----------------------------

// -----------------------------
 GUEST LOGIN OAUTH SETUP
// -----------------------------

 GOOGLE
passport.use(new GoogleStrategy({
    clientID: "YOUR_GOOGLE_CLIENT_ID",
    clientSecret: "YOUR_GOOGLE_SECRET",
    callbackURL: "/auth/google/callback"
}, (accessToken, refreshToken, profile, done) => done(null, profile)));

app.get("/auth/google", passport.authenticate("google", { scope: ["profile", "email"] }));
app.get("/auth/google/callback",
    passport.authenticate("google", { failureRedirect: "/login-failed" }),
    (req, res) => res.redirect("/guest"));

 MICROSOFT
passport.use(new MicrosoftStrategy({
    clientID: "YOUR_MICROSOFT_CLIENT_ID",
    clientSecret: "YOUR_MICROSOFT_SECRET",
    callbackURL: "/auth/microsoft/callback",
    scope: ["user.read"]
}, (accessToken, refreshToken, profile, done) => done(null, profile)));

app.get("/auth/microsoft", passport.authenticate("microsoft"));
app.get("/auth/microsoft/callback",
    passport.authenticate("microsoft", { failureRedirect: "/login-failed" }),
    (req, res) => res.redirect("/guest"));

 APPLE
passport.use(new AppleStrategy({
    clientID: "YOUR_APPLE_CLIENT_ID",
    teamID: "YOUR_APPLE_TEAM_ID",
    keyID: "YOUR_APPLE_KEY_ID",
    privateKeyString: "YOUR_PRIVATE_KEY",
    callbackURL: "/auth/apple/callback"
}, (accessToken, refreshToken, profile, done) => done(null, profile)));

app.get("/auth/apple", passport.authenticate("apple"));
app.get("/auth/apple/callback",
    passport.authenticate("apple", { failureRedirect: "/login-failed" }),
    (req, res) => res.redirect("/guest"));

 LINKEDIN
passport.use(new LinkedInStrategy({
    clientID: "YOUR_LINKEDIN_CLIENT_ID",
    clientSecret: "YOUR_LINKEDIN_SECRET",
    callbackURL: "/auth/linkedin/callback",
    scope: ["r_emailaddress", "r_liteprofile"]
}, (accessToken, refreshToken, profile, done) => done(null, profile)));

app.get("/auth/linkedin", passport.authenticate("linkedin"));
app.get("/auth/linkedin/callback",
    passport.authenticate("linkedin", { failureRedirect: "/login-failed" }),
    (req, res) => res.redirect("/guest"));

// -----------------------------
// GUEST DASHBOARD
// -----------------------------
app.get("/guest", (req, res) => {
    if (!req.user) return res.redirect("/");
    res.send(`Welcome Guest: ${req.user.displayName}`);
});

// -----------------------------
 HONEYPOT TRAP EXAMPLE
// -----------------------------
app.get("/security/honeypots/admin-login.html", (req, res) => {
    secLog("HONEYPOT_TRIGGERED", { ip: req.ip });
    res.status(403).send("Unauthorized access.");
});

// -----------------------------
 START SERVER
// -----------------------------
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`Portfolio server with security active on port ${PORT}`);
});</script>
    
</body>
</html>
